<div class="log-filters">
  <form (ngSubmit)="applyFilter(service.value, level.value, startTime.value, endTime.value)">
    <mat-form-field>
      <mat-label>Service</mat-label>
      <input matInput #service placeholder="Service">
    </mat-form-field>

    <mat-form-field>
      <mat-label>Level</mat-label>
      <mat-select #level>
        <mat-option value="info">Info</mat-option>
        <mat-option value="warning">Warning</mat-option>
        <mat-option value="error">Error</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Start Time</mat-label>
      <input matInput [matDatepicker]="startPicker" #startTime placeholder="Start Time">
      <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
      <mat-datepicker #startPicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>End Time</mat-label>
      <input matInput [matDatepicker]="endPicker" #endTime placeholder="End Time">
      <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
      <mat-datepicker #endPicker></mat-datepicker>
    </mat-form-field>

    <button mat-raised-button type="submit">Apply Filters</button>
  </form>
</div>

<table mat-table [dataSource]="dataSource" matSort>
  <ng-container matColumnDef="timestamp">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Timestamp</th>
    <td mat-cell *matCellDef="let log">{{ log.timestamp }}</td>
  </ng-container>

  <ng-container matColumnDef="service">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Service</th>
    <td mat-cell *matCellDef="let log">{{ log.service }}</td>
  </ng-container>

  <ng-container matColumnDef="level">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Level</th>
    <td mat-cell *matCellDef="let log">{{ log.level }}</td>
  </ng-container>

  <ng-container matColumnDef="message">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Message</th>
    <td mat-cell *matCellDef="let log">{{ log.message }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<mat-paginator [length]="logs.length" [pageSize]="10" [pageSizeOptions]="[5, 10, 20]"></mat-paginator>
